<? namespace Bitrix\Landing;$GLOBALS['____213651371']= array(base64_decode('ZGVm'.'aW5l'),base64_decode('ZXhwbG'.'9k'.'Z'.'Q='.'='),base64_decode('cGFjaw=='),base64_decode('bWQ1'),base64_decode('Y2'.'9uc3Rhbn'.'Q='),base64_decode('aGFzaF9obWFj'),base64_decode('c3RyY'.'21w'),base64_decode('ZXhwbG9kZQ'.'=='),base64_decode('bWt0a'.'W1l'),base64_decode('dGltZQ='.'='),base64_decode('ZXhwb'.'G9kZQ='.'='),base64_decode('cGF'.'jaw=='),base64_decode('bWQ1'),base64_decode(''.'Y2'.'9uc3RhbnQ='),base64_decode('aGFzaF9o'.'bWFj'),base64_decode(''.'c3RyY21'.'w'),base64_decode('ZXhwbG9kZQ=='),base64_decode(''.'bW'.'t0aW1l'),base64_decode('d'.'GltZ'.'Q='.'='),base64_decode('aW5fYXJyY'.'X'.'k='),base64_decode('cHJlZ'.'19'.'yZXBsYW'.'NlX2Nh'.'b'.'Gxi'.'YWNr'),base64_decode(''.'c3RydG'.'9sb'.'3d'.'lcg=='),base64_decode('cHJ'.'l'.'Z19tY'.'XR'.'jaA=='),base64_decode('c'.'HJ'.'lZ19yZ'.'XBsY'.'W'.'Nl'.'X2NhbGxiYW'.'N'.'r'));if(!function_exists(__NAMESPACE__.'\\___882867056')){function ___882867056($_1204447691){static $_2045165811= false; if($_2045165811 == false) $_2045165811=array('TEFORElOR19'.'NVVRBV'.'E'.'9'.'SX'.'01PREU'.'=','Zmlsd'.'GV'.'y',''.'I'.'UlE',''.'UFVCTEl'.'DX1BB'.'R0VfUk'.'VB'.'Q0hF'.'RA==','T'.'EFORE'.'lOR19QVUJMSUNf'.'U'.'EF'.'H'.'RV9'.'SRUFD'.'S'.'EV'.'E','c2'.'Vs'.'ZWN0','S'.'UQ=',''.'VFl'.'Q'.'RQ'.'==','Zml'.'sdGVy','SUQ'.'=','PUF'.'DV'.'ElWRQ==','Tg='.'=','Q'.'0hFQ'.'0tfUE'.'VST'.'UlT'.'U0lPTlM=','Tg==',''.'Z'.'mlsdGVy','IUlE',''.'SU'.'Q=','dHlwZQ==','VFlQRQ==',''.'UFVCTEl'.'D'.'X'.'1NJVEVf'.'Uk'.'VB'.'Q0hFRA='.'=','TEFORElOR19Q'.'V'.'UJ'.'MSUNfU0lUR'.'V'.'9SRUFDSEVE','c2'.'Vs'.'Z'.'WN0',''.'SUQ=','Zm'.'lsdGV'.'y','U0lURV9JR'.'A'.'==','Q0h'.'FQ'.'0tf'.'UEVS'.'TUlTU'.'0lPTl'.'M=','Tg==','SUQ=','c2V'.'sZWN0','S'.'U'.'Q=','R'.'U5USVRZX1'.'RZU'.'EU=','RU5USVRZX0lE','ZmlsdGVy','TE9HSUM'.'=',''.'T1'.'I=',''.'PUVO'.'VEl'.'UWV9'.'UWVBF','RU5U'.'S'.'VRZX0l'.'E','P'.'UVOVElU'.'WV9UWVBF','RU5USVRZX0lE',''.'P'.'U'.'hP'.'T'.'0s=','SEVBREJMT'.'0'.'NL','PU'.'NPR'.'E'.'U=','V'.'VNF','PV'.'ZBTFV'.'F','WQ==','bGlta'.'XQ=','U'.'FVCT'.'E'.'lDX0hUTUxf'.'RE'.'lTQ'.'UxMT'.'1'.'dFRFs=',''.'RU5USV'.'RZX'.'1RZUEU=','RU5'.'U'.'SVRZ'.'X0lE','XQ==','TE'.'FORElO'.'R19QV'.'UJMSUNfSFRN'.'TF9ESVNB'.'TExP'.'V0VE','b'.'GF'.'uZGluZw'.'==','b'.'25M'.'YW5'.'k'.'aW'.'5nUHVibGljYXR'.'pb2'.'4=','aWQ=','Yml'.'0cm'.'l4M'.'jQ=','RE'.'I=','U'.'0VMR'.'UNUIFZBTF'.'VF'.'IEZST00gYl9vcHR'.'pb2'.'4gV0'.'h'.'FU'.'kUgTkFN'.'RT'.'0'.'nflBB'.'UkFN'.'X0ZJ'.'TklTSF9E'.'Q'.'VR'.'FJyB'.'BTkQgTU9'.'E'.'VUxFX0'.'lEPSdtYWluJyB'.'BTkQgU0'.'lURV9JRCBJUyBOVUxM','VkFMVU'.'U=',''.'L'.'g==',''.'SCo'.'=',''.'Yml0'.'cml4','TE'.'lD'.'RU5T'.'RV9LRVk=','c2h'.'h'.'Mj'.'U2','MjA'.'xOC'.'0wMS'.'0wMQ'.'==',''.'M'.'j'.'AxOC0wMS0wMQ='.'=','LQ==','TE'.'lDRU5TRV9F'.'WFBJU'.'k'.'V'.'E','TEFORElOR1'.'9MSUN'.'FTl'.'NFX'.'0VY'.'UElSRUQ=','Ym'.'l'.'0cml4MjQ=','RE'.'I=',''.'U0'.'VMR'.'U'.'NU'.'IFZB'.'TFVFI'.'EZST00gY'.'l9vcHRpb24'.'gV0hFUkUgTkFNRT0nfl'.'BBUk'.'F'.'NX0ZJTklTS'.'F9EQV'.'RFJyBBT'.'k'.'QgTU9EVUxFX0l'.'EPS'.'dtYWlu'.'JyBBTkQgU'.'0'.'lURV9J'.'RCB'.'J'.'U'.'y'.'BO'.'VUxM',''.'VkFMVUU'.'=','Lg='.'=',''.'SCo=','Ym'.'l0cml'.'4','TElDRU5TRV'.'9LR'.'Vk=','c2hhMjU2','Mj'.'A'.'xOC0wM'.'S0wMQ'.'==','MjAx'.'O'.'C0'.'wMS0wMQ==','LQ'.'='.'=','TElDRU5TRV9FW'.'FBJ'.'UkVE',''.'T'.'EF'.'ORElOR19MSU'.'NFTlNF'.'X0VYUElSR'.'UQ=','QUNU'.'SVZF','W'.'Q'.'==','UFV'.'CTElD',''.'WQ==','RE'.'FUR'.'V9'.'QVUJ'.'MS'.'UM=',''.'REFURV9'.'NT'.'0'.'RJRlk=','QUNUSVZF',''.'WQ==',''.'LyhbXDsiXXswLDF9KS'.'Nib'.'G9'.'j'.'ayhbX'.'GRdKyko'.'W1wmIl17'.'MCwxfSk'.'vaXM'.'=','c2VsZ'.'WN0','SU'.'Q=','U'.'FV'.'CTE'.'lD',''.'UEFSRU'.'5UX0lE','Q09E'.'R'.'Q='.'=','U09SVA==',''.'QU'.'NUSVZF','QU5DSE9S','QUNDRVNT','Q09OVEVOVA='.'=','U09V'.'UkNF'.'X'.'1BBU'.'kF'.'N'.'U'.'w==',''.'Zml'.'sd'.'GVy','TEl'.'E',''.'PU'.'RFTEVURUQ=','Tg==','SUQ=','U'.'FV'.'CT'.'ElD',''.'WQ==',''.'Q09OV'.'EVOV'.'A==','L2'.'h'.'yZWZcPSIjY2F'.'0YWx'.'vZ'.'yhFbGVt'.'ZW50fFNl'.'Y3R'.'pb24p'.'KFtcZF'.'0rKSIv'.'aQ==','a'.'HJlZj'.'0i','I'.'g'.'='.'=','Q09OV'.'EV'.'OVA==','UEF'.'SR'.'U5U'.'X0'.'lE','U'.'EFSRU'.'5UX'.'0l'.'E',''.'SUQ=',''.'U09SVA==','U09'.'SVA'.'==','QUNUSVZ'.'F',''.'QUNU'.'SVZF','QU5DSE9S',''.'QU5DSE9S','QUNDRVN'.'T','QUNDRVNT','U'.'09V'.'UkNFX1BB'.'UkFN'.'Uw='.'=','U'.'0'.'9'.'VU'.'kNFX1B'.'B'.'U'.'kFN'.'Uw==','Q09OVEVO'.'V'.'A==','Q09'.'OVEVOVA='.'=','UE'.'FS'.'R'.'U5UX0'.'l'.'E',''.'Q'.'09OVEVO'.'VA==','T'.'ElE','Q09ERQ='.'=','Q'.'09ERQ='.'=','U0'.'9'.'S'.'VA='.'=','U'.'09S'.'VA==','Q'.'U5DS'.'E9S','QU'.'5'.'DSE9'.'S','QUNUSVZF','QUNUSVZF',''.'Q'.'UNDRVNT','QUNDRVN'.'T','U09V'.'UkNFX1BBUkFNU'.'w==','U0'.'9VUkNFX1B'.'B'.'UkFNUw='.'=','Q'.'09O'.'VEVOVA==','Q09OVEVOVA='.'=',''.'UEF'.'SRU5'.'UX0lE','Q09OVE'.'VOVA'.'='.'=','Q09OVEV'.'O'.'VA='.'=','Q'.'0'.'9OVEVOVA='.'=',''.'I'.'2Jsb2Nr','I2Js'.'b2Nr','Q09OVEVOVA==');return base64_decode($_2045165811[$_1204447691]);}}; use \Bitrix\Landing\Internals\HookDataTable as HookData; use \Bitrix\Main\Event; use \Bitrix\Main\EventResult; use \Bitrix\Main\Localization\Loc; Loc::loadMessages(__FILE__); $GLOBALS['____213651371'][0](___882867056(0), true); class Mutator{  public static function landingPublication(Landing $landing){ static $_252350028= array();  if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_PAGE, array( ___882867056(1) => array( ___882867056(2) => $landing->getId())))){ $landing->getError()->addError( ___882867056(3), Loc::getMessage(___882867056(4))); return false;}  $_1780587471= Site::getList(array( ___882867056(5) => array( ___882867056(6), ___882867056(7)), ___882867056(8) => array( ___882867056(9) => $landing->getSiteId(), ___882867056(10) => ___882867056(11), ___882867056(12) => ___882867056(13)))); if($_1675143930= $_1780587471->fetch()){ if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_SITE, array( ___882867056(14) => array( ___882867056(15) => $_1675143930[___882867056(16)]), ___882867056(17) => $_1675143930[___882867056(18)]))){ $landing->getError()->addError( ___882867056(19), Loc::getMessage(___882867056(20))); return false;}}  if(\Bitrix\Landing\Hook\Page\HeadBlock::isLockedFeature()){ $_1161231394=[$landing->getId()];  $_1780587471= Landing::getList([ ___882867056(21) =>[ ___882867056(22)], ___882867056(23) =>[ ___882867056(24) => $landing->getSiteId(), ___882867056(25) => ___882867056(26)]]); while($_1675143930= $_1780587471->fetch()){ $_1161231394[]= $_1675143930[___882867056(27)];} $_1780587471= HookData::getList([ ___882867056(28) =>[ ___882867056(29), ___882867056(30), ___882867056(31)], ___882867056(32) =>[[ ___882867056(33) => ___882867056(34),[ ___882867056(35) => Hook::ENTITY_TYPE_SITE, ___882867056(36) => $landing->getSiteId()],[ ___882867056(37) => Hook::ENTITY_TYPE_LANDING, ___882867056(38) => $_1161231394]], ___882867056(39) => ___882867056(40), ___882867056(41) => ___882867056(42), ___882867056(43) => ___882867056(44)], ___882867056(45) => round(0+0.33333333333333+0.33333333333333+0.33333333333333)]); if($_1675143930= $_1780587471->fetch()){ $landing->getError()->addError( ___882867056(46). $_1675143930[___882867056(47)]. $_1675143930[___882867056(48)]. ___882867056(49), Loc::getMessage(___882867056(50))); unset($_1675143930, $_1780587471); return false;} unset($_1161231394, $_1675143930, $_1780587471);}  $_118658593= new Event(___882867056(51), ___882867056(52), array( ___882867056(53) => $landing->getId())); $_118658593->send(); foreach($_118658593->getResults() as $_2006847988){ if($_2006847988->getResultType() == EventResult::ERROR){ foreach($_2006847988->getErrors() as $_697372840){ $landing->getError()->addError( $_697372840->getCode(), $_697372840->getMessage());} return false;}} if(!\Bitrix\Main\ModuleManager::isModuleInstalled(___882867056(54))){ $_557724255= $GLOBALS[___882867056(55)]->Query(___882867056(56), true); if($_1780587471= $_557724255->Fetch()){ $_1541811677= $_1780587471[___882867056(57)]; list($_1756008458, $_945108997)= $GLOBALS['____213651371'][1](___882867056(58), $_1541811677); $_37915268= $GLOBALS['____213651371'][2](___882867056(59), $_1756008458); $_2045886015= ___882867056(60).$GLOBALS['____213651371'][3]($GLOBALS['____213651371'][4](___882867056(61))); $_975983424= $GLOBALS['____213651371'][5](___882867056(62), $_945108997, $_2045886015, true); if($GLOBALS['____213651371'][6]($_975983424, $_37915268) !==(183*2-366)){ $_945108997= ___882867056(63);}} else{ $_945108997= ___882867056(64);} if(!empty($_945108997)){ $_746405393= $GLOBALS['____213651371'][7](___882867056(65), $_945108997); $_666445134= $GLOBALS['____213651371'][8]((189*2-378),(164*2-328), min(48,0,16), $_746405393[round(0+0.25+0.25+0.25+0.25)], $_746405393[round(0+0.66666666666667+0.66666666666667+0.66666666666667)], $_746405393[(908-2*454)]); if($_666445134 <= $GLOBALS['____213651371'][9]()){ $landing->getError()->addError( ___882867056(66), Loc::getMessage(___882867056(67))); return false;}}} if(!\Bitrix\Main\ModuleManager::isModuleInstalled(___882867056(68))){ $_557724255= $GLOBALS[___882867056(69)]->Query(___882867056(70), true); if($_1780587471= $_557724255->Fetch()){ $_1541811677= $_1780587471[___882867056(71)]; list($_1756008458, $_945108997)= $GLOBALS['____213651371'][10](___882867056(72), $_1541811677); $_37915268= $GLOBALS['____213651371'][11](___882867056(73), $_1756008458); $_2045886015= ___882867056(74).$GLOBALS['____213651371'][12]($GLOBALS['____213651371'][13](___882867056(75))); $_975983424= $GLOBALS['____213651371'][14](___882867056(76), $_945108997, $_2045886015, true); if($GLOBALS['____213651371'][15]($_975983424, $_37915268) !== min(228,0,76)){ $_945108997= ___882867056(77);}} else{ $_945108997= ___882867056(78);} if(!empty($_945108997)){ $_746405393= $GLOBALS['____213651371'][16](___882867056(79), $_945108997); $_666445134= $GLOBALS['____213651371'][17](min(42,0,14),(1384/2-692),(988-2*494), $_746405393[round(0+0.5+0.5)], $_746405393[round(0+0.5+0.5+0.5+0.5)], $_746405393[(146*2-292)]); if($_666445134 <= $GLOBALS['____213651371'][18]()){ $landing->getError()->addError( ___882867056(80), Loc::getMessage(___882867056(81))); return false;}}}  Block::publicationBlocks($landing); $_1183208386= new \Bitrix\Main\Type\DateTime; $_1780587471= Landing::update($landing->getId(), array( ___882867056(82) => ___882867056(83), ___882867056(84) => ___882867056(85), ___882867056(86) => $_1183208386, ___882867056(87) => false));  if($_1780587471->isSuccess()){ if(!$GLOBALS['____213651371'][19]($landing->getSiteId(), $_252350028)){ $_252350028[]= $landing->getSiteId(); $_1780587471= Site::update($landing->getSiteId(), array( ___882867056(88) => ___882867056(89))); if(!$_1780587471->isSuccess()){ $landing->getError()->addFromResult( $_1780587471); return false;}} return true;} else{ $landing->getError()->addFromResult( $_1780587471);} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing){ if($landing->exist()){ $_494356961= $landing->getId(); $_147275485= array(); $_883522086= array(); $_1773038489= array(); $_1933751459= ___882867056(90); $_1780587471= Block::getList(array( ___882867056(91) => array( ___882867056(92), ___882867056(93), ___882867056(94), ___882867056(95), ___882867056(96), ___882867056(97), ___882867056(98), ___882867056(99), ___882867056(100), ___882867056(101)), ___882867056(102) => array( ___882867056(103) => $landing->getId(), ___882867056(104) => ___882867056(105)))); while($_1675143930= $_1780587471->fetch()){ $_147275485[$_1675143930[___882867056(106)]]= $_1675143930;}  foreach($_147275485 as $_504199622 => $_151298327){ if($_151298327[___882867056(107)] != ___882867056(108)){  $_151298327[___882867056(109)]= $GLOBALS['____213651371'][20]( ___882867056(110), function($_383113796){ return ___882867056(111). PublicAction\Utils::getIblockURL( $_383113796[round(0+2)], $GLOBALS['____213651371'][21]($_383113796[round(0+0.33333333333333+0.33333333333333+0.33333333333333)])). ___882867056(112);}, $_151298327[___882867056(113)]); $_2117261109= isset($_147275485[$_151298327[___882867056(114)]])? $_147275485[$_151298327[___882867056(115)]][___882867056(116)]:(221*2-442); if($_2117261109){ $_1780587471= Block::update($_2117261109, array( ___882867056(117) => $_151298327[___882867056(118)], ___882867056(119) => $_151298327[___882867056(120)], ___882867056(121) => $_151298327[___882867056(122)], ___882867056(123) => $_151298327[___882867056(124)], ___882867056(125) => $_151298327[___882867056(126)], ___882867056(127) => $_151298327[___882867056(128)])); $_1780587471->isSuccess(); unset($_147275485[$_151298327[___882867056(129)]]);  File::replaceInBlock( $_2117261109, File::getFilesFromBlockContent( $_504199622, $_151298327[___882867056(130)]));} else{ $_1780587471= Block::add(array( ___882867056(131) => $_494356961, ___882867056(132) => $_151298327[___882867056(133)], ___882867056(134) => $_151298327[___882867056(135)], ___882867056(136) => $_151298327[___882867056(137)], ___882867056(138) => $_151298327[___882867056(139)], ___882867056(140) => $_151298327[___882867056(141)], ___882867056(142) => $_151298327[___882867056(143)], ___882867056(144) => $_151298327[___882867056(145)])); if($_1780587471->isSuccess()){ $_2117261109= $_1780587471->getId(); $_1780587471= Block::update($_504199622, array( ___882867056(146) => $_2117261109)); $_1780587471->isSuccess();  File::addToBlock( $_2117261109, File::getFilesFromBlockContent( $_504199622, $_151298327[___882867056(147)]));}} if($GLOBALS['____213651371'][22]($_1933751459, $_151298327[___882867056(148)])){ $_883522086[$_2117261109]= $_151298327[___882867056(149)];} $_1773038489[$_504199622]= $_2117261109; unset($_147275485[$_504199622]);}}  foreach($_147275485 as $_504199622 => $_151298327){ $_1780587471= Block::delete($_504199622); $_1780587471->isSuccess();}  foreach($_883522086 as $_504199622 => $_1423710214){ $_1423710214= $GLOBALS['____213651371'][23]( $_1933751459, function($_214796951) use($_1773038489){ if(isset($_1773038489[$_214796951[round(0+0.66666666666667+0.66666666666667+0.66666666666667)]])){ return $_214796951[round(0+0.25+0.25+0.25+0.25)]. ___882867056(150). $_1773038489[$_214796951[round(0+1+1)]]. $_214796951[round(0+3)];} else{ return $_214796951[round(0+1)]. ___882867056(151). $_214796951[round(0+0.5+0.5+0.5+0.5)]. $_214796951[round(0+0.6+0.6+0.6+0.6+0.6)];}}, $_1423710214); $_1780587471= Block::update($_504199622, array( ___882867056(152) => $_1423710214)); $_1780587471->isSuccess();}}}}?>